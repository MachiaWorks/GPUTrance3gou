#pragma once

#ifndef __SOUND_SHADER_H__
#define __SOUND_SHADER_H__


/* File generated with Shader Minifier 1.1.4
 * http://www.ctrl-alt-test.fr
 */

static const char* msh = \
"#version 130\n"
"#define PI 3.1415926535\n"
"#define BPM 145.0\n"
"#define END 71\n"
"#define V vec3(0.,1.,-1.)\n"
"out vec2 gain;"
"float pitch(float p)"
"{"
"return pow(1.059460646483,p)*440.;"
"}"
"float tone(float note)"
"{"
"return 2.*PI*pitch(note);"
"}"
"float saw(float phase)"
"{"
"float s=0.;"
"for(int k=1;k<=8;k++)"
"s+=sin(2.*PI*float(k)*phase)/float(k);"
"return.5-1./PI*s-.5;"
"}"
"vec4 random(float _v)"
"{"
"return vec4(fract(sin(dot(_v*V.yy,vec2(12.9898,78.233)))*43758.5453));"
"}"
"vec4 sqc(float time,float tick)"
"{"
"vec4 s_t;"
"float s=mod(floor(time/240.*BPM*float(2)),4),t=fract(time/240.*BPM*float(tick)),u=mod(floor(time/240.*BPM*float(tick)),tick),v=floor(time/240.*BPM);"
"s_t.x=s;"
"s_t.y=t;"
"s_t.z=u;"
"s_t.w=v;"
"return s_t;"
"}"
"float kick(float time)"
"{"
"float s=0.;"
"vec4 sq1=sqc(time,4),sq2=sqc(time,8);"
"float t2=sq1.y,t_r=t2;"
"t_r=sq2.z>=7&&mod(sq1.x,4)==3?"
"sq2.y:"
"t2;"
"float f=pitch(9-t2*35.);"
"s+=sin(t_r*f)*min(1,t_r*6)*exp(-t_r*4.7);"
"return s;"
"}"
"float snare(float time,float flag)"
"{"
"vec4 sq=sqc(time,16.);"
"float _seed=sq.y,_dec=_seed*7.5;"
"flag=mod(sq.w,16)==15?"
"1.:"
"flag;"
"flag=mod(sq.w,8)==7&&mod(sq.z,16)>7?"
"1.:"
"flag;"
"flag=mod(sq.w,4)==3&&mod(sq.z,16)>13?"
"1.:"
"flag;"
"float s=0.;"
"s=mod(sq.z,8)!=4?"
"0.:"
"random(_seed).x*1.5*1.3*exp(-_dec/3.);"
"s=flag==1.?"
"random(_seed).x*1.5*1.5*exp(-_dec/4.5):"
"s;"
"return s*.7;"
"}"
"float bassline(float time,float semi,int bs_num,float bs_tick)"
"{"
"int num=bs_num;"
"float ptn[16];"
"ptn[0]=0,ptn[1]=0,ptn[2]=12,ptn[3]=0,ptn[4]=0,ptn[5]=0,ptn[6]=12,ptn[7]=0,ptn[8]=0,ptn[9]=0,ptn[10]=12,ptn[11]=0,ptn[12]=0,ptn[13]=0,ptn[14]=12,ptn[15]=0;"
"float ptn2[16];"
"ptn2[0]=0,ptn2[1]=0,ptn2[2]=12,ptn2[3]=0,ptn2[4]=0,ptn2[5]=0,ptn2[6]=12,ptn2[7]=0,ptn2[8]=0,ptn2[9]=12,ptn2[10]=0,ptn2[11]=12,ptn2[12]=0,ptn2[13]=0,ptn2[14]=12,ptn2[15]=0;"
"float ptn3[16];"
"ptn3[0]=0,ptn3[1]=0,ptn3[2]=12,ptn3[3]=0,ptn3[4]=0,ptn3[5]=0,ptn3[6]=12,ptn3[7]=0,ptn3[8]=0,ptn3[9]=0,ptn3[10]=12,ptn3[11]=0,ptn3[12]=0,ptn3[13]=0,ptn3[14]=12,ptn3[15]=0;"
"vec4 sq=sqc(time,bs_tick);"
"int tick=int(sq.z);"
"float now_ptn;"
"now_ptn=num==0?"
"ptn[tick]:"
"num==1?"
"ptn2[tick]:"
"ptn3[tick];"
"float note=now_ptn!=44?"
"-20.+semi+now_ptn:"
"0.,t1=ptn[tick]==44?"
"0.:"
"sin(tone(note)*time);"
"t1=t1*min(1,sq.y)*max(0,1-sq.y);"
"return t1;"
"}"
"float sq_sq2(float time,float semi,int bs_num,float bs_tick)"
"{"
"float ptn[16];"
"ptn[0]=0,ptn[1]=1,ptn[2]=0,ptn[3]=12,ptn[4]=0,ptn[5]=12,ptn[6]=0,ptn[7]=12,ptn[8]=0,ptn[9]=12,ptn[10]=0,ptn[11]=12,ptn[12]=3,ptn[13]=3,ptn[14]=3,ptn[15]=3;"
"float ptn2[16];"
"ptn2[0]=2,ptn2[1]=0,ptn2[2]=0,ptn2[3]=5,ptn2[4]=0,ptn2[5]=0,ptn2[6]=2,ptn2[7]=0,ptn2[8]=0,ptn2[9]=0,ptn2[10]=0,ptn2[11]=0,ptn2[12]=11,ptn2[13]=12,ptn2[14]=-1,ptn2[15]=0;"
"float ptn3[16];"
"ptn3[0]=0,ptn3[1]=3,ptn3[2]=1,ptn3[3]=4,ptn3[4]=0,ptn3[5]=2,ptn3[6]=4,ptn3[7]=6,ptn3[8]=0,ptn3[9]=1,ptn3[10]=3,ptn3[11]=8,ptn3[12]=12,ptn3[13]=3,ptn3[14]=1,ptn3[15]=1;"
"vec4 sq=sqc(time,bs_tick);"
"int tick=int(sq.z);"
"float now_ptn;"
"now_ptn=ptn2[tick];"
"float note=now_ptn!=44?"
"semi+8+now_ptn:"
"0.,t1=ptn[tick]==44?"
"0.:"
"2.*fract(tone(note-26)*time)-1.;"
"t1=t1*min(.45,sq.y*1.5)*max(0,1-sq.y);"
"return t1;"
"}"
"float melo(float time,float semi,int bs_num,float bs_tick)"
"{"
"float ptn[16];"
"ptn[0]=0,ptn[1]=2,ptn[2]=0,ptn[3]=4,ptn[4]=0,ptn[5]=5,ptn[6]=7,ptn[7]=9,ptn[8]=0,ptn[9]=0,ptn[10]=2,ptn[11]=4,ptn[12]=0,ptn[13]=4,ptn[14]=0,ptn[15]=2;"
"vec4 sq=sqc(time,bs_tick);"
"int tick=int(sq.z);"
"float now_ptn;"
"now_ptn=ptn[tick];"
"float note=now_ptn!=44?"
"semi+now_ptn:"
"0.,t1=ptn[tick]==44?"
"0.:"
"sin(tone(note)*time+sin(tone(note)*.5)+time);"
"t1=t1*min(1,sq.y*.8)*max(0,.8-sq.y);"
"return t1;"
"}"
"float sq2(float time)"
"{"
"float ptn[16];"
"ptn[0]=0,ptn[1]=0,ptn[2]=7,ptn[3]=0,ptn[4]=0,ptn[5]=7,ptn[6]=0,ptn[7]=0,ptn[8]=7,ptn[9]=0,ptn[10]=0,ptn[11]=7,ptn[12]=0,ptn[13]=0,ptn[14]=7,ptn[15]=0;"
"vec4 sq=sqc(time,16.);"
"int tick=int(sq.z);"
"float note=ptn[tick]!=44?"
"-3.+ptn[tick]:"
"0.,t1=ptn[tick]==44?"
"0.:"
"saw(pitch(note)*(time+sin(time*pitch(note/2))));"
"t1*=exp(-sq.y*8.);"
"return t1;"
"}"
"float crash(float time,float semi)"
"{"
"vec4 sq=sqc(time,1.);"
"float t1=random(sq.y).x;"
"t1=mod(sq.w,4)==0?"
"t1:"
"0;"
"t1*=max(0,1-sq.y*2);"
"return t1;"
"}"
"vec2 mixer(float t)"
"{"
"vec2 s=vec2(0);"
"float semi=-5.,count=floor(t/240.*BPM);"
"vec4 sq=sqc(t,2);"
"int ph_tbl[4];"
"ph_tbl[0]=0;"
"ph_tbl[1]=1;"
"ph_tbl[2]=0;"
"ph_tbl[3]=2;"
"float tr[10];"
"for(int i=0;i<9;i++)"
"tr[i]=0.;"
"tr[1]=1.;"
"tr[5]=count>7?"
"1.:"
"0.;"
"tr[6]=1.;"
"tr[7]=1.;"
"tr[8]=count>7?"
"1.:"
"0.;"
"tr[2]=1.;"
"float melo_ph=1;"
"melo_ph=count<9?"
"2.:"
"count<10?"
"4.:"
"count<12?"
"6.:"
"count<13?"
"2.:"
"count<14?"
"4.:"
"count<16?"
"6.:"
"count<17?"
"2.:"
"count<18?"
"4.:"
"count<20?"
"6.:"
"count<21?"
"2.:"
"count<22?"
"4.:"
"count<24?"
"6.:"
"count<30?"
"2.:"
"count<31?"
"4.:"
"count<32?"
"6.:"
"count<36?"
"2.:"
"count<37?"
"4.:"
"count<38?"
"4.:"
"count<39?"
"6.:"
"count<40?"
"7.:"
"count<41?"
"8.:"
"count<45?"
"4.:"
"count<46?"
"6.:"
"count<48?"
"7.:"
"5.;"
"float divid=1;"
"divid=count<26?"
"2.:"
"count<28?"
"4.:"
"count<30?"
"2.:"
"count<32?"
"4.:"
"count<47?"
"1.:"
"count<48?"
"8.:"
"count<51?"
"2.:"
"count<52?"
"8.:"
"count<58?"
"2.:"
"count<60?"
"8.:"
"2.;"
"semi=count>15?"
"semi-2:"
"semi;"
"semi=count>23?"
"semi+4:"
"semi;"
"semi=count>31?"
"semi-2:"
"semi;"
"semi=count>39?"
"semi-2:"
"semi;"
"semi=count>47?"
"semi+4:"
"semi;"
"semi=count>55?"
"semi-2:"
"semi;"
"tr[6]=count>61?"
"0.:"
"tr[6];"
"tr[7]=count>63?"
"0.:"
"tr[7];"
"tr[2]=count>63?"
"0.:"
"tr[2];"
"int test=int(count),pad_1[4];"
"pad_1[0]=0;"
"pad_1[1]=1;"
"pad_1[2]=2;"
"pad_1[3]=1;"
"int pad_2[4];"
"pad_2[0]=3;"
"pad_2[1]=4;"
"pad_2[2]=5;"
"pad_2[3]=5;"
"int pad_3[4];"
"pad_3[0]=7;"
"pad_3[1]=7;"
"pad_3[2]=9;"
"pad_3[3]=8;"
"float sq_tk=16.;"
"int test2=int(mod(test,4));"
"tr[0]=count>3?"
"1.:"
"0.;"
"tr[0]=count>39?"
"0.:"
"tr[0];"
"sq_tk=count>39?"
"1.:"
"sq_tk;"
"tr[0]=count>55?"
"1.:"
"tr[0];"
"sq_tk=count>55?"
"16.:"
"sq_tk;"
"s+=tr[0]*sq_sq2(t,semi-14,test2,sq_tk)*vec2(.2);"
"s+=tr[0]*sq_sq2(t+.012,semi-14+5,test2,sq_tk)*vec2(.1,.2);"
"s+=tr[0]*sq_sq2(t-.012,semi-14,test2,sq_tk)*vec2(.2,.1);"
"for(int i=1;i<2;i++)"
"s+=tr[0]*sq_sq2(t-i*(.1f/2),semi-14,test2,sq_tk)*vec2(.4,.5)*.09*(2/i),s+=tr[0]*sq_sq2(t-i*(.1f/2)+.012,semi-14+5,test2,sq_tk)*vec2(.4,.2)*.08*(2/i),s+=tr[0]*sq_sq2(t-i*(.1f/2)-.012,semi-14,test2,sq_tk)*vec2(.2,.4)*.075*(2/i);"
"int bass_mod=int(mod(test,4));"
"s+=tr[1]*bassline(t,semi,bass_mod,16)*vec2(.55);"
"s+=tr[1]*bassline(t+.008,semi,bass_mod,16)*vec2(.28);"
"float sq_syn=16.;"
"sq_syn=count>39?"
"1.:"
"sq_syn;"
"sq_syn=count>55?"
"16.:"
"sq_syn;"
"tr[3]=count>1?"
"1.:"
"0.;"
"int synth_mod=int(mod(test,4));"
"s+=tr[3]*melo(t,semi+3,synth_mod,sq_syn)*vec2(.8);"
"tr[3]=1.;"
"tr[4]=1.;"
"s+=tr[4]*sq2(t)*vec2(.2,.65);"
"float plus=count>39?"
"tr[3]*melo(t,semi-2,synth_mod,sq_syn*4):"
"0.,plus2=count>39?"
"tr[3]*melo(t,semi+5,synth_mod,sq_syn*2):"
"0.,plus3=count>47?"
"tr[3]*melo(t,semi+3,synth_mod,sq_syn*16):"
"0.;"
"plus3=count>55?"
"0.:"
"plus3;"
"s+=plus+plus2+plus3;"
"s+=tr[2]*crash(t,semi)*vec2(0,.6);"
"tr[6]=count>31?"
"0.:"
"tr[6];"
"tr[6]=count>38.875?"
"1.:"
"tr[6];"
"tr[6]=count>63?"
"0.:"
"tr[6];"
"s+=tr[6]*kick(t)*vec2(1);"
"s+=tr[8]*snare(t,0.)*vec2(.5,.6)*.66;"
"float fade_in=t*.05;"
"fade_in=fade_in>.98?"
".98:"
".98;"
"float f_o=1.;"
"f_o=count>END?"
"min(1-sq.y*.05,0):"
"f_o;"
"return vec2(s)*fade_in*f_o;"
"}"
"void main()"
"{"
"float t=gl_VertexID/44100.;"
"gain.x=abs(gain.x)>.95?"
".95:"
"gain.x;"
"gain.y=abs(gain.y)>.95?"
".95:"
"gain.y;"
"gain=mixer(t);"
"}";


/*
"#version 130\n"
"#define PI 3.1415926535\n"
"#define BPM 140.0\n"
"#define END 71\n"
"#define V vec3(0.,1.,-1.)\n"
"out vec2 gain;"
"int phrase=0;"
"float pitch(float f)"
"{"
"return pow(1.05946,f)*440.;"
"}"
"float noiz(float f)"
"{"
"return fract(sin(f*78.233)*43758.5)*2.-1.;"
"}"
"float tone(float f)"
"{"
"return 2.*PI*pitch(f);"
"}"
"float saw(float v)"
"{"
"float m=0.;"
"for(int f=1;f<=8;f++)"
"m+=sin(2.*PI*float(f)*v)/float(f);"
"return.5-1./PI*m-.5;"
"}"
"vec4 random2H(vec2 f)"
"{"
"return vec4(fract(sin(dot(f,vec2(12.9898,78.233)))*43758.5));"
"}"
"vec4 random(float f)"
"{"
"return random2H(f*V.yy);"
"}"
"vec4 sqc(float f,float i)"
"{"
"vec4 r;"
"float s=mod(floor(f/240.*BPM*float(2)),4),m=fract(f/240.*BPM*float(i)),y=mod(floor(f/240.*BPM*float(i)),i),x=floor(f/240.*BPM);"
"r.x=s;"
"r.y=m;"
"r.z=y;"
"r.w=x;"
"return r;"
"}"
"float pad(float f,float i)"
"{"
"float t=0.,r[1];"
"r[0]=0.;"
"const int s=4;"
"float m=mod(floor(f/240.*BPM*float(2)),4),y=fract(f/240.*BPM*float(2)),x=m>=2?1.:0;"
"vec4 n=sqc(f,.5);"
"for(int v=0;v<1;v++)"
"{"
"float p=mod(n.w,4),a=pitch(i+r[v]);"
"const int z=8;"
"for(int g=0;g<z-1;g++)"
"{"
"float M=float(g),B=a+M*sin(M);"
"t+=saw(f*B)*(1./float(z))*(1./float(s))*min(1,n.y*3)*max(0,1.5-n.y);"
"}"
"}"
"return t;"
"}"
"float kick(float f)"
"{"
"float r=0.;"
"vec4 s=sqc(f,4),m=sqc(f,8),n=sqc(f,16);"
"float v=s.x,y=m.x,i=s.y,x=m.y,a=n.y,g=i;"
"g=m.z>=7&&mod(s.x,4)==3?x:i;"
"float p=pitch(9-i*35.);"
"r+=sin(g*p)*min(1,g*6)*exp(-g*8.7);"
"return r;"
"}"
"float hihat(float f)"
"{"
"vec4 s=sqc(f,16.);"
"float i=s.y,y=i*18.;"
"return(random(i).x+random(i+y).x)*.5*exp(-y/1.5);"
"}"
"float snare(float f,float s)"
"{"
"vec4 m=sqc(f,16.),y=sqc(f,4);"
"float i=m.y,x=i*7.5;"
"s=mod(m.w,16)==15?1.:s;"
"s=mod(m.w,8)==7&&mod(m.z,16)>7?1.:s;"
"s=mod(m.w,4)==3&&mod(m.z,16)>13?1.:s;"
"float r=0.;"
"r=mod(m.z,8)!=4?0.:random(i).x*1.5*1.3*exp(-x/3.);"
"r=s==1.?random(i).x*1.5*1.5*exp(-x/4.5):r;"
"return r*.7;"
"}"
"float bassline(float f,float s,int m,float i)"
"{"
"int r=m;"
"float v[16];"
"v[0]=0,v[1]=12,v[2]=0,v[3]=12,v[4]=0,v[5]=12,v[6]=0,v[7]=12,v[8]=0,v[9]=12,v[10]=0,v[11]=12,v[12]=3,v[13]=3,v[14]=3,v[15]=3;"
"float g[16];"
"g[0]=3,g[1]=0,g[2]=0,g[3]=4,g[4]=0,g[5]=0,g[6]=4,g[7]=0,g[8]=0,g[9]=0,g[10]=0,g[11]=0,g[12]=12,g[13]=13,g[14]=0,g[15]=0;"
"float p[16];"
"p[0]=0,p[1]=3,p[2]=2,p[3]=4,p[4]=0,p[5]=2,p[6]=4,p[7]=6,p[8]=0,p[9]=1,p[10]=3,p[11]=8,p[12]=12,p[13]=3,p[14]=1,p[15]=1;"
"vec4 n=sqc(f,i);"
"float x=-21.+s;"
"int y=int(n.z);"
"float t;"
"t=r==0?v[y]:r==1?g[y]:p[y];"
"float z=t!=44?x+t:0.,M=v[y]==44?0.:sin(tone(z)*f),a=2.5*n.y;"
"M=M*min(1,n.y*1)*max(0,1-n.y);"
"return M;"
"}"
"float sq_sq(float f,float s,int m,float v)"
"{"
"int i=m;"
"float g[16];"
"g[0]=0,g[1]=12,g[2]=0,g[3]=12,g[4]=0,g[5]=12,g[6]=0,g[7]=12,g[8]=0,g[9]=12,g[10]=0,g[11]=12,g[12]=3,g[13]=3,g[14]=3,g[15]=3;"
"float p[16];"
"p[0]=3,p[1]=0,p[2]=0,p[3]=6,p[4]=0,p[5]=0,p[6]=4,p[7]=0,p[8]=0,p[9]=0,p[10]=0,p[11]=0,p[12]=12,p[13]=13,p[14]=0,p[15]=0;"
"float r[16];"
"r[0]=0,r[1]=3,r[2]=1,r[3]=4,r[4]=0,r[5]=2,r[6]=4,r[7]=6,r[8]=0,r[9]=1,r[10]=3,r[11]=8,r[12]=12,r[13]=3,r[14]=1,r[15]=1;"
"vec4 n=sqc(f,v);"
"float x=s+4;"
"int y=int(n.z);"
"float t;"
"t=i==0?g[y]:i==1?p[y]:r[y];"
"float z=t!=44?x+t:0.,M=g[y]==44?0.:sin(tone(z)*f),a=2.5*n.y;"
"M=M*min(1,n.y*1)*max(0,1-n.y);"
"return M;"
"}"
"float sq_sq2(float f,float s,int m,float p)"
"{"
"int r=m;"
"float g[16];"
"g[0]=0,g[1]=1,g[2]=0,g[3]=12,g[4]=0,g[5]=12,g[6]=0,g[7]=12,g[8]=0,g[9]=12,g[10]=0,g[11]=12,g[12]=3,g[13]=3,g[14]=3,g[15]=3;"
"float v[16];"
"v[0]=3,v[1]=0,v[2]=0,v[3]=6,v[4]=0,v[5]=0,v[6]=4,v[7]=0,v[8]=0,v[9]=0,v[10]=0,v[11]=0,v[12]=12,v[13]=13,v[14]=0,v[15]=0;"
"float i[16];"
"i[0]=0,i[1]=3,i[2]=1,i[3]=4,i[4]=0,i[5]=2,i[6]=4,i[7]=6,i[8]=0,i[9]=1,i[10]=3,i[11]=8,i[12]=12,i[13]=3,i[14]=1,i[15]=1;"
"vec4 n=sqc(f,p);"
"float x=s+8;"
"int y=int(n.z);"
"float t;"
"t=v[y];"
"float z=t!=44?x+t:0.,M=g[y]==44?0.:sin(tone(z)*f),a=2.5*n.y;"
"M=M*min(1,n.y*1)*max(0,1-n.y);"
"return M;"
"}"
"float melo(float f,float s,int m,float g)"
"{"
"int r=m;"
"float v[16];"
"v[0]=0,v[1]=2,v[2]=0,v[3]=4,v[4]=0,v[5]=5,v[6]=7,v[7]=9,v[8]=0,v[9]=0,v[10]=2,v[11]=4,v[12]=0,v[13]=4,v[14]=0,v[15]=2;"
"vec4 p=sqc(f,g);"
"float x=s;"
"int y=int(p.z);"
"float i;"
"i=v[y];"
"float z=i!=44?x+i:0.,M=v[y]==44?0.:sin(tone(z)*f+sin(tone(z)*.5)+f),n=2.5*p.y;"
"M=M*min(1,p.y*.8)*max(0,.8-p.y);"
"return M;"
"}"
"float sq2(float f)"
"{"
"float v[16];"
"v[0]=0,v[1]=0,v[2]=7,v[3]=0,v[4]=0,v[5]=7,v[6]=0,v[7]=0,v[8]=7,v[9]=0,v[10]=0,v[11]=7,v[12]=0,v[13]=0,v[14]=7,v[15]=0;"
"vec4 n=sqc(f,16.);"
"float s=-3.;"
"int y=int(n.z);"
"float i=v[y]!=44?s+v[y]:0.,g=v[y]==44?0.:saw(pitch(i)*(f+sin(f*pitch(i/2))));"
"g=g*exp(-n.y*8.);"
"return g;"
"}"
"float sq3(float f,float s)"
"{"
"vec4 m=sqc(f,1.);"
"float i=m.y,v=i*18.,g=-3.+s,p=120.,r=random(i).x;"
"r=mod(m.w,4)==0?r:0;"
"r*=max(0,1-m.y*2);"
"return r;"
"}"
"vec2 mixer(float f)"
"{"
"vec2 i=vec2(0.);"
"float v=-5.,g=floor(f/240.*BPM);"
"vec4 n=sqc(f,2);"
"int r[4];"
"r[0]=0;"
"r[1]=1;"
"r[2]=0;"
"r[3]=2;"
"int p[8],y=0;"
"float s[10];"
"for(int x=0;x<9;x++)"
"s[x]=0.;"
"float m=1.,x=0.,M=0.,t=0;"
"s[0]=1.;"
"s[1]=1.;"
"s[3]=1.;"
"s[4]=1.;"
"s[5]=g>7?1.:0.;"
"s[6]=g>7.25?1.:0.;"
"s[7]=g>11?1.:0.;"
"s[8]=g>18?1.:0.;"
"s[2]=g>7?1.:0.;"
"float z=16,a=16;"
"a=g>7?16.:2.;"
"t=g<9?2.:g<10?4.:g<12?6.:g<13?2.:g<14?4.:g<16?6.:g<17?2.:g<18?4.:g<20?6.:g<21?2.:g<22?4.:g<24?6.:g<30?2.:g<31?4.:g<32?6.:g<36?2.:g<37?4.:g<38?4.:g<39?6.:g<40?7.:g<41?8.:g<45?4.:g<46?6.:g<48?7.:5.;"
"float B=1;"
"B=g<26?2.:g<28?4.:g<30?2.:g<32?4.:g<47?1.:g<48?8.:g<51?2.:g<52?8.:g<58?2.:g<60?8.:2.;"
"v=g>31?v-2:v;"
"v=g>45?0:v;"
"v=g>55?-5:v;"
"s[6]=g>63?0.:s[6];"
"s[7]=g>63?0.:s[7];"
"s[8]=g>63?0.:s[8];"
"s[2]=g>65?0.:s[2];"
"int w=int(g),e=int(mod(w,4)),o=int(mod(w,4)),c[4];"
"c[0]=0;"
"c[1]=1;"
"c[2]=2;"
"c[3]=1;"
"int P[4];"
"P[0]=3;"
"P[1]=4;"
"P[2]=5;"
"P[3]=5;"
"int h[4];"
"h[0]=7;"
"h[1]=7;"
"h[2]=9;"
"h[3]=8;"
"i+=s[0]*pad(f+.012,v-6+c[o])*vec2(1.,.5);"
"i+=s[0]*pad(f+.06,v-6+P[o])*vec2(.5,1.);"
"i+=s[0]*pad(f,v-6+h[o])*vec2(.9,.9);"
"i+=s[0]*pad(f+.012,v-6+c[o])*vec2(1.,.5);"
"i+=s[0]*pad(f+.06,v-6+P[o])*vec2(.5,1.);"
"i+=s[0]*pad(f,v-6+h[o])*vec2(.9,.9);"
"i+=s[1]*bassline(f,v,e,z)*vec2(.55);"
"i+=s[1]*bassline(f+.008,v,e,z)*vec2(.28);"
"i+=s[5]*melo(f,v+9+t,e,a/B)*vec2(1.1,1.1);"
"i+=s[7]*sq2(f)*vec2(.5);"
"i+=s[2]*sq3(f,v)*vec2(0.,.6);"
"i+=s[6]*kick(f)*vec2(1.);"
"i+=s[8]*snare(f,x)*vec2(.5,.6)*.66;"
"float I=f*.05;"
"I=I>.98?.98:.98;"
"float b=1.;"
"b=g>END?min(1-n.y*.05,0):b;"
"return vec2(i)*I*b;"
"}"
"void main()"
"{"
"float f=gl_VertexID/44100.,v=9.5;"
"gain.x=abs(gain.x)>v?v:gain.x;"
"gain.y=abs(gain.y)>v?v:gain.y;"
"gain=mixer(f);"
"}"
;
*/


#endif // SHADER_CODE_H_



